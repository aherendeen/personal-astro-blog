---
import { SocialLinks, WebsiteLinks, SITE_BASE } from '../consts'
import LogoSVG from '../assets/logo.svg'
import { Icon } from 'astro-icon/components'

const today = new Date()
interface Props {
	badgeLoading?: 'eager' | 'lazy'
}
const { badgeLoading = 'eager' } = Astro.props as Props
---

<footer>
	<div
		class="app-container grid md:grid-cols-3 gap-12 py-16 border-t-2 border-foreground/50 dark:border-foreground-dark/50"
	>
		<div>
			<a href="/" class="block w-fit" aria-label="Home">
				<LogoSVG height={36} width={36} />
			</a>
		</div>
		<div>
			<h3 class="font-semibold text-2xl">Links</h3>
			<div class="flex flex-wrap gap-4 mt-4">
				{
					WebsiteLinks.filter((link) => link.name !== 'Home').map((link) => (
						<a
							class="text-lg"
							href={`${SITE_BASE}/${link.url}`.replace(/\/+/g, '/')}
						>
							{link.name}
						</a>
					))
				}
				<a
					href="rss.xml"
					target="_blank"
					rel="noopener noreferrer"
					class="text-lg"
					aria-label="RSS Feed"
				>
					<Icon name="mdi:rss" class="w-6 h-6" />
				</a>
			</div>
		</div>
		<div>
			<h3 class="font-semibold text-2xl">Socials</h3>
			<div class="flex flex-wrap gap-4 mt-4">
				{
					SocialLinks.map((link) => (
						<a
							class="text-lg"
							href={link.url}
							target="_blank"
							rel="noopener noreferrer"
						>
							{link.name}
						</a>
					))
				}
			</div>
		</div>
	</div>
	<div class="app-container flex justify-between items-center pb-6 text-center">
		<div
			class="w-full flex flex-col md:flex-row justify-between items-center gap-2"
		>
			<p class="text-left md:text-center">
				&copy; {today.getFullYear()}
				{SITE_BASE ? '' : 'Andrew Herendeen'} â€” Source code on <a
					class="underline"
					href="https://github.com/aherendeen/personal-astro-blog"
					target="_blank"
					rel="noopener noreferrer"
					aria-label="View source code on GitHub (opens in new tab)">GitHub</a
				>
			</p>
			<div class="flex gap-4 items-center">
				<a
					class="inline-block"
					href="https://www.buymeacoffee.com/aherendeen"
					target="_blank"
					rel="noopener noreferrer nofollow"
					aria-label="Support Andrew on Buy Me a Coffee (opens in new tab)"
				>
					<img
						src="/buymeacoffee.svg"
						alt="Buy Me a Coffee"
						loading={badgeLoading}
						{...badgeLoading === 'eager' ? { fetchpriority: 'high' } : {}}
						class="w-8 md:w-10 h-auto inline-block"
					/>
				</a>
			</div>
		</div>
	</div>
</footer>
